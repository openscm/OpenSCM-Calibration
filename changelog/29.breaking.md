Re-factored to make scmdata an actually optional dependency.
See the how-to docs for an example of how to get the same behaviour with the new API.
